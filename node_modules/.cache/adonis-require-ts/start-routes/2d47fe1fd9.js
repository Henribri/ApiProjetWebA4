"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Route_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Route"));
const User_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/User"));
Route_1.default.post('posts', async ({ auth, request, response }) => {
    const email = request.input('email');
    const password = request.input('password');
    const user = await User_1.default.findByOrFail('email', 'Henri');
    const token = await auth.use('api').generate(user);
    return token;
});
Route_1.default.get('get', async () => {
    return await User_1.default.create({ email: 'Henri', password: 'youpi' });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicm91dGVzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsicm91dGVzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0Esb0ZBQTBDO0FBQzFDLGlGQUFrQztBQUtsQyxlQUFLLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBQyxFQUFFLEVBQUU7SUFHdEQsTUFBTSxLQUFLLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNwQyxNQUFNLFFBQVEsR0FBRyxPQUFPLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFBO0lBRzFDLE1BQU0sSUFBSSxHQUFHLE1BQU0sY0FBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLEVBQUMsT0FBTyxDQUFDLENBQUE7SUFHckQsTUFBTSxLQUFLLEdBQUcsTUFBTSxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUVsRCxPQUFPLEtBQUssQ0FBQTtBQUNkLENBQUMsQ0FBQyxDQUFBO0FBRUYsZUFBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsS0FBSyxJQUFJLEVBQUU7SUFDMUIsT0FBTyxNQUFNLGNBQUksQ0FBQyxNQUFNLENBQUMsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBQyxPQUFPLEVBQUUsQ0FBQyxDQUFBO0FBQ2hFLENBQUMsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERhdGFiYXNlIGZyb20gJ0Bpb2M6QWRvbmlzL0x1Y2lkL0RhdGFiYXNlJ1xuaW1wb3J0IFJvdXRlIGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvUm91dGUnXG5pbXBvcnQgVXNlciBmcm9tICdBcHAvTW9kZWxzL1VzZXInXG5cbmltcG9ydCBIYXNoIGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSGFzaCdcblxuXG5Sb3V0ZS5wb3N0KCdwb3N0cycsIGFzeW5jICh7YXV0aCwgcmVxdWVzdCwgcmVzcG9uc2V9KSA9PiB7XG5cblxuICBjb25zdCBlbWFpbCA9IHJlcXVlc3QuaW5wdXQoJ2VtYWlsJylcbiAgY29uc3QgcGFzc3dvcmQgPSByZXF1ZXN0LmlucHV0KCdwYXNzd29yZCcpXG5cbiAgLy8gTG9va3VwIHVzZXIgbWFudWFsbHlcbiAgY29uc3QgdXNlciA9IGF3YWl0IFVzZXIuZmluZEJ5T3JGYWlsKCdlbWFpbCcsJ0hlbnJpJylcblxuICAvLyBHZW5lcmF0ZSB0b2tlblxuICBjb25zdCB0b2tlbiA9IGF3YWl0IGF1dGgudXNlKCdhcGknKS5nZW5lcmF0ZSh1c2VyKVxuXG4gIHJldHVybiB0b2tlblxufSlcblxuUm91dGUuZ2V0KCdnZXQnLCBhc3luYyAoKSA9PiB7XG4gIHJldHVybiBhd2FpdCBVc2VyLmNyZWF0ZSh7IGVtYWlsOiAnSGVucmknLCBwYXNzd29yZDoneW91cGknIH0pXG59KSJdfQ==