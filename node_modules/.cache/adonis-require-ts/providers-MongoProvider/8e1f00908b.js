"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_1 = require("mongoose");
class MongoProvider {
    constructor(app) {
        this.app = app;
    }
    register() {
        const mongoose = new mongoose_1.Mongoose();
        mongoose.connect('mongodb+srv://corbeilleexo.tag2v.mongodb.net:/A4L?authSource=%24external&authMechanism=MONGODB-X509', {
            useUnifiedTopology: true,
            ssl: true,
            sslCert: require('fs').readFileSync(`C:/Users/henri/Desktop/WorshopWeb/Corbeille3/X509-cert-3830741774116890921.pem`),
            sslKey: require('fs').readFileSync(`C:/Users/henri/Desktop/WorshopWeb/Corbeille3/X509-cert-3830741774116890921.pem`),
        });
        this.app.container.singleton('Mongoose', () => mongoose);
    }
    async boot() {
    }
    async ready() {
    }
    async shutdown() {
        await this.app.container.use('Mongoose').disconnect();
    }
}
exports.default = MongoProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9uZ29Qcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1vbmdvUHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx1Q0FBbUM7QUFxQm5DLE1BQXFCLGFBQWE7SUFDaEMsWUFBdUIsR0FBd0I7UUFBeEIsUUFBRyxHQUFILEdBQUcsQ0FBcUI7SUFDL0MsQ0FBQztJQUVNLFFBQVE7UUFFYixNQUFNLFFBQVEsR0FBRyxJQUFJLG1CQUFRLEVBQUUsQ0FBQTtRQU8vQixRQUFRLENBQUMsT0FBTyxDQUFDLHFHQUFxRyxFQUFFO1lBQ3RILGtCQUFrQixFQUFFLElBQUk7WUFDeEIsR0FBRyxFQUFFLElBQUk7WUFDVCxPQUFPLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxnRkFBZ0YsQ0FBQztZQUNySCxNQUFNLEVBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLFlBQVksQ0FBQyxnRkFBZ0YsQ0FBQztTQUVwSCxDQUFDLENBQUM7UUFHSCxJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLEdBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBRXpELENBQUM7SUFFTSxLQUFLLENBQUMsSUFBSTtJQUVqQixDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUs7SUFFbEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxRQUFRO1FBRW5CLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBQ3ZELENBQUM7Q0FDRjtBQXRDRCxnQ0FzQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbkNvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9BcHBsaWNhdGlvbidcbmltcG9ydCB7IE1vbmdvb3NlIH0gZnJvbSAnbW9uZ29vc2UnXG5cbi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgUHJvdmlkZXJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufFxufCBZb3VyIGFwcGxpY2F0aW9uIGlzIG5vdCByZWFkeSB3aGVuIHRoaXMgZmlsZSBpcyBsb2FkZWQgYnkgdGhlIGZyYW1ld29yay5cbnwgSGVuY2UsIHRoZSB0b3AgbGV2ZWwgaW1wb3J0cyByZWx5aW5nIG9uIHRoZSBJb0MgY29udGFpbmVyIHdpbGwgbm90IHdvcmsuXG58IFlvdSBtdXN0IGltcG9ydCB0aGVtIGluc2lkZSB0aGUgbGlmZS1jeWNsZSBtZXRob2RzIGRlZmluZWQgaW5zaWRlXG58IHRoZSBwcm92aWRlciBjbGFzcy5cbnxcbnwgQGV4YW1wbGU6XG58XG58IHB1YmxpYyBhc3luYyByZWFkeSAoKSB7XG58ICAgY29uc3QgRGF0YWJhc2UgPSB0aGlzLmFwcC5jb250YWluZXIucmVzb2x2ZUJpbmRpbmcoJ0Fkb25pcy9MdWNpZC9EYXRhYmFzZScpXG58ICAgY29uc3QgRXZlbnQgPSB0aGlzLmFwcC5jb250YWluZXIucmVzb2x2ZUJpbmRpbmcoJ0Fkb25pcy9Db3JlL0V2ZW50JylcbnwgICBFdmVudC5vbignZGI6cXVlcnknLCBEYXRhYmFzZS5wcmV0dHlQcmludClcbnwgfVxufFxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbmdvUHJvdmlkZXIge1xuICBjb25zdHJ1Y3RvciAocHJvdGVjdGVkIGFwcDogQXBwbGljYXRpb25Db250cmFjdCkge1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyICgpIHtcbiAgICAvLyBSZWdpc3RlciB5b3VyIG93biBiaW5kaW5nc1xuICAgIGNvbnN0IG1vbmdvb3NlID0gbmV3IE1vbmdvb3NlKClcblxuICAgIC8qXG4gICAgbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYitzcnY6Ly9HZXJhbHQ6Q2lyaUAnK1xuICAgICdjb3JiZWlsbGVleG8udGFnMnYubW9uZ29kYi5uZXQ6L0E0TCcsICB7dXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWV9KVxuICAgICovXG5cbiAgICBtb25nb29zZS5jb25uZWN0KCdtb25nb2RiK3NydjovL2NvcmJlaWxsZWV4by50YWcydi5tb25nb2RiLm5ldDovQTRMP2F1dGhTb3VyY2U9JTI0ZXh0ZXJuYWwmYXV0aE1lY2hhbmlzbT1NT05HT0RCLVg1MDknLCB7XG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICBzc2w6IHRydWUsXG4gICAgICBzc2xDZXJ0OiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhgQzovVXNlcnMvaGVucmkvRGVza3RvcC9Xb3JzaG9wV2ViL0NvcmJlaWxsZTMvWDUwOS1jZXJ0LTM4MzA3NDE3NzQxMTY4OTA5MjEucGVtYCksXG4gICAgICBzc2xLZXk6cmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMoYEM6L1VzZXJzL2hlbnJpL0Rlc2t0b3AvV29yc2hvcFdlYi9Db3JiZWlsbGUzL1g1MDktY2VydC0zODMwNzQxNzc0MTE2ODkwOTIxLnBlbWApLFxuXG4gICAgfSk7XG5cbiAgICAvLyBMb3JzcXUnb24gZmFpdCB1biBpbXBvcnQgZG9ubmUgbCdhY2PDqHMgw6AgbGEgQkREXG4gICAgdGhpcy5hcHAuY29udGFpbmVyLnNpbmdsZXRvbignTW9uZ29vc2UnLCAoKT0+IG1vbmdvb3NlKVxuXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgYm9vdCAoKSB7XG4gICAgLy8gQWxsIGJpbmRpbmdzIGFyZSByZWFkeSwgZmVlbCBmcmVlIHRvIHVzZSB0aGVtXG4gIH1cblxuICBwdWJsaWMgYXN5bmMgcmVhZHkgKCkge1xuICAgIC8vIEFwcCBpcyByZWFkeVxuICB9XG5cbiAgcHVibGljIGFzeW5jIHNodXRkb3duICgpIHtcbiAgICAvLyBDbGVhbnVwLCBzaW5jZSBhcHAgaXMgZ29pbmcgZG93blxuICAgIGF3YWl0IHRoaXMuYXBwLmNvbnRhaW5lci51c2UoJ01vbmdvb3NlJykuZGlzY29ubmVjdCgpXG4gIH1cbn1cbiJdfQ==