"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_1 = require("mongoose");
class MongoProvider {
    constructor(app) {
        this.app = app;
    }
    register() {
        const mongoose = new mongoose_1.Mongoose();
        mongoose.connect('mongodb+srv://Geralt:Ciri@' +
            'corbeilleexo.tag2v.mongodb.net:/Apollon', { useNewUrlParser: true, useUnifiedTopology: true });
        this.app.container.singleton('Mongoose', () => mongoose);
    }
    async boot() {
    }
    async ready() {
    }
    async shutdown() {
        await this.app.container.use('Mongoose').disconnect();
    }
}
exports.default = MongoProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9uZ29Qcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1vbmdvUHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx1Q0FBbUM7QUFxQm5DLE1BQXFCLGFBQWE7SUFDaEMsWUFBdUIsR0FBd0I7UUFBeEIsUUFBRyxHQUFILEdBQUcsQ0FBcUI7SUFDL0MsQ0FBQztJQUVNLFFBQVE7UUFFYixNQUFNLFFBQVEsR0FBRyxJQUFJLG1CQUFRLEVBQUUsQ0FBQTtRQUcvQixRQUFRLENBQUMsT0FBTyxDQUFDLDRCQUE0QjtZQUM3Qyx5Q0FBeUMsRUFBRyxFQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtRQVk5RixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLEdBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBRXpELENBQUM7SUFFTSxLQUFLLENBQUMsSUFBSTtJQUVqQixDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUs7SUFFbEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxRQUFRO1FBRW5CLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBQ3ZELENBQUM7Q0FDRjtBQXRDRCxnQ0FzQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbkNvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9BcHBsaWNhdGlvbidcclxuaW1wb3J0IHsgTW9uZ29vc2UgfSBmcm9tICdtb25nb29zZSdcclxuXHJcbi8qXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG58IFByb3ZpZGVyXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG58XHJcbnwgWW91ciBhcHBsaWNhdGlvbiBpcyBub3QgcmVhZHkgd2hlbiB0aGlzIGZpbGUgaXMgbG9hZGVkIGJ5IHRoZSBmcmFtZXdvcmsuXHJcbnwgSGVuY2UsIHRoZSB0b3AgbGV2ZWwgaW1wb3J0cyByZWx5aW5nIG9uIHRoZSBJb0MgY29udGFpbmVyIHdpbGwgbm90IHdvcmsuXHJcbnwgWW91IG11c3QgaW1wb3J0IHRoZW0gaW5zaWRlIHRoZSBsaWZlLWN5Y2xlIG1ldGhvZHMgZGVmaW5lZCBpbnNpZGVcclxufCB0aGUgcHJvdmlkZXIgY2xhc3MuXHJcbnxcclxufCBAZXhhbXBsZTpcclxufFxyXG58IHB1YmxpYyBhc3luYyByZWFkeSAoKSB7XHJcbnwgICBjb25zdCBEYXRhYmFzZSA9IHRoaXMuYXBwLmNvbnRhaW5lci5yZXNvbHZlQmluZGluZygnQWRvbmlzL0x1Y2lkL0RhdGFiYXNlJylcclxufCAgIGNvbnN0IEV2ZW50ID0gdGhpcy5hcHAuY29udGFpbmVyLnJlc29sdmVCaW5kaW5nKCdBZG9uaXMvQ29yZS9FdmVudCcpXHJcbnwgICBFdmVudC5vbignZGI6cXVlcnknLCBEYXRhYmFzZS5wcmV0dHlQcmludClcclxufCB9XHJcbnxcclxuKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTW9uZ29Qcm92aWRlciB7XHJcbiAgY29uc3RydWN0b3IgKHByb3RlY3RlZCBhcHA6IEFwcGxpY2F0aW9uQ29udHJhY3QpIHtcclxuICB9XHJcblxyXG4gIHB1YmxpYyByZWdpc3RlciAoKSB7XHJcbiAgICAvLyBSZWdpc3RlciB5b3VyIG93biBiaW5kaW5nc1xyXG4gICAgY29uc3QgbW9uZ29vc2UgPSBuZXcgTW9uZ29vc2UoKVxyXG5cclxuICAgIFxyXG4gICAgbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYitzcnY6Ly9HZXJhbHQ6Q2lyaUAnK1xyXG4gICAgJ2NvcmJlaWxsZWV4by50YWcydi5tb25nb2RiLm5ldDovQXBvbGxvbicsICB7dXNlTmV3VXJsUGFyc2VyOiB0cnVlLCB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWV9KVxyXG4gICAgXHJcbi8qXHJcbiAgICBtb25nb29zZS5jb25uZWN0KCdtb25nb2RiK3NydjovL2NvcmJlaWxsZWV4by50YWcydi5tb25nb2RiLm5ldDovQTRMP2F1dGhTb3VyY2U9JTI0ZXh0ZXJuYWwmYXV0aE1lY2hhbmlzbT1NT05HT0RCLVg1MDknLCB7XHJcbiAgICAgIHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSxcclxuICAgICAgc3NsOiB0cnVlLFxyXG4gICAgICBzc2xDZXJ0OiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhgQzovVXNlcnMvaGVucmkvRGVza3RvcC9Xb3JzaG9wV2ViL0NvcmJlaWxsZTMvWDUwOS1jZXJ0LTM4MzA3NDE3NzQxMTY4OTA5MjEucGVtYCksXHJcbiAgICAgIHNzbEtleTpyZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhgQzovVXNlcnMvaGVucmkvRGVza3RvcC9Xb3JzaG9wV2ViL0NvcmJlaWxsZTMvWDUwOS1jZXJ0LTM4MzA3NDE3NzQxMTY4OTA5MjEucGVtYCksXHJcblxyXG4gICAgfSk7XHJcbiovXHJcbiAgICAvLyBMb3JzcXUnb24gZmFpdCB1biBpbXBvcnQgZG9ubmUgbCdhY2PDqHMgw6AgbGEgQkREXHJcbiAgICB0aGlzLmFwcC5jb250YWluZXIuc2luZ2xldG9uKCdNb25nb29zZScsICgpPT4gbW9uZ29vc2UpXHJcblxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIGJvb3QgKCkge1xyXG4gICAgLy8gQWxsIGJpbmRpbmdzIGFyZSByZWFkeSwgZmVlbCBmcmVlIHRvIHVzZSB0aGVtXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgcmVhZHkgKCkge1xyXG4gICAgLy8gQXBwIGlzIHJlYWR5XHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgc2h1dGRvd24gKCkge1xyXG4gICAgLy8gQ2xlYW51cCwgc2luY2UgYXBwIGlzIGdvaW5nIGRvd25cclxuICAgIGF3YWl0IHRoaXMuYXBwLmNvbnRhaW5lci51c2UoJ01vbmdvb3NlJykuZGlzY29ubmVjdCgpXHJcbiAgfVxyXG59XHJcbiJdfQ==