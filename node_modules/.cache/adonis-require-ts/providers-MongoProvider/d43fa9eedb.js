"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mongoose_1 = require("mongoose");
class MongoProvider {
    constructor(app) {
        this.app = app;
    }
    register() {
        const mongoose = new mongoose_1.Mongoose();
        mongoose.connect('mongodb+srv://Geralt:Ciri@' +
            'corbeilleexo.tag2v.mongodb.net:/Apollon', { useNewUrlParser: true, useUnifiedTopology: true });
        this.app.container.singleton('Mongoose', () => mongoose);
    }
    async boot() {
    }
    async ready() {
    }
    async shutdown() {
        await this.app.container.use('Mongoose').disconnect();
    }
}
exports.default = MongoProvider;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTW9uZ29Qcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIk1vbmdvUHJvdmlkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSx1Q0FBbUM7QUFxQm5DLE1BQXFCLGFBQWE7SUFDaEMsWUFBdUIsR0FBd0I7UUFBeEIsUUFBRyxHQUFILEdBQUcsQ0FBcUI7SUFDL0MsQ0FBQztJQUVNLFFBQVE7UUFFYixNQUFNLFFBQVEsR0FBRyxJQUFJLG1CQUFRLEVBQUUsQ0FBQTtRQUcvQixRQUFRLENBQUMsT0FBTyxDQUFDLDRCQUE0QjtZQUM3Qyx5Q0FBeUMsRUFBRyxFQUFDLGVBQWUsRUFBRSxJQUFJLEVBQUUsa0JBQWtCLEVBQUUsSUFBSSxFQUFDLENBQUMsQ0FBQTtRQVk5RixJQUFJLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxTQUFTLENBQUMsVUFBVSxFQUFFLEdBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFBO0lBRXpELENBQUM7SUFFTSxLQUFLLENBQUMsSUFBSTtJQUVqQixDQUFDO0lBRU0sS0FBSyxDQUFDLEtBQUs7SUFFbEIsQ0FBQztJQUVNLEtBQUssQ0FBQyxRQUFRO1FBRW5CLE1BQU0sSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFBO0lBQ3ZELENBQUM7Q0FDRjtBQXRDRCxnQ0FzQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBsaWNhdGlvbkNvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9BcHBsaWNhdGlvbidcbmltcG9ydCB7IE1vbmdvb3NlIH0gZnJvbSAnbW9uZ29vc2UnXG5cbi8qXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbnwgUHJvdmlkZXJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxufFxufCBZb3VyIGFwcGxpY2F0aW9uIGlzIG5vdCByZWFkeSB3aGVuIHRoaXMgZmlsZSBpcyBsb2FkZWQgYnkgdGhlIGZyYW1ld29yay5cbnwgSGVuY2UsIHRoZSB0b3AgbGV2ZWwgaW1wb3J0cyByZWx5aW5nIG9uIHRoZSBJb0MgY29udGFpbmVyIHdpbGwgbm90IHdvcmsuXG58IFlvdSBtdXN0IGltcG9ydCB0aGVtIGluc2lkZSB0aGUgbGlmZS1jeWNsZSBtZXRob2RzIGRlZmluZWQgaW5zaWRlXG58IHRoZSBwcm92aWRlciBjbGFzcy5cbnxcbnwgQGV4YW1wbGU6XG58XG58IHB1YmxpYyBhc3luYyByZWFkeSAoKSB7XG58ICAgY29uc3QgRGF0YWJhc2UgPSB0aGlzLmFwcC5jb250YWluZXIucmVzb2x2ZUJpbmRpbmcoJ0Fkb25pcy9MdWNpZC9EYXRhYmFzZScpXG58ICAgY29uc3QgRXZlbnQgPSB0aGlzLmFwcC5jb250YWluZXIucmVzb2x2ZUJpbmRpbmcoJ0Fkb25pcy9Db3JlL0V2ZW50JylcbnwgICBFdmVudC5vbignZGI6cXVlcnknLCBEYXRhYmFzZS5wcmV0dHlQcmludClcbnwgfVxufFxuKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1vbmdvUHJvdmlkZXIge1xuICBjb25zdHJ1Y3RvciAocHJvdGVjdGVkIGFwcDogQXBwbGljYXRpb25Db250cmFjdCkge1xuICB9XG5cbiAgcHVibGljIHJlZ2lzdGVyICgpIHtcbiAgICAvLyBSZWdpc3RlciB5b3VyIG93biBiaW5kaW5nc1xuICAgIGNvbnN0IG1vbmdvb3NlID0gbmV3IE1vbmdvb3NlKClcblxuXG4gICAgbW9uZ29vc2UuY29ubmVjdCgnbW9uZ29kYitzcnY6Ly9HZXJhbHQ6Q2lyaUAnK1xuICAgICdjb3JiZWlsbGVleG8udGFnMnYubW9uZ29kYi5uZXQ6L0Fwb2xsb24nLCAge3VzZU5ld1VybFBhcnNlcjogdHJ1ZSwgdXNlVW5pZmllZFRvcG9sb2d5OiB0cnVlfSlcblxuLypcbiAgICBtb25nb29zZS5jb25uZWN0KCdtb25nb2RiK3NydjovL2NvcmJlaWxsZWV4by50YWcydi5tb25nb2RiLm5ldDovQTRMP2F1dGhTb3VyY2U9JTI0ZXh0ZXJuYWwmYXV0aE1lY2hhbmlzbT1NT05HT0RCLVg1MDknLCB7XG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICBzc2w6IHRydWUsXG4gICAgICBzc2xDZXJ0OiByZXF1aXJlKCdmcycpLnJlYWRGaWxlU3luYyhgQzovVXNlcnMvaGVucmkvRGVza3RvcC9Xb3JzaG9wV2ViL0NvcmJlaWxsZTMvWDUwOS1jZXJ0LTM4MzA3NDE3NzQxMTY4OTA5MjEucGVtYCksXG4gICAgICBzc2xLZXk6cmVxdWlyZSgnZnMnKS5yZWFkRmlsZVN5bmMoYEM6L1VzZXJzL2hlbnJpL0Rlc2t0b3AvV29yc2hvcFdlYi9Db3JiZWlsbGUzL1g1MDktY2VydC0zODMwNzQxNzc0MTE2ODkwOTIxLnBlbWApLFxuXG4gICAgfSk7XG4qL1xuICAgIC8vIExvcnNxdSdvbiBmYWl0IHVuIGltcG9ydCBkb25uZSBsJ2FjY8OocyDDoCBsYSBCRERcbiAgICB0aGlzLmFwcC5jb250YWluZXIuc2luZ2xldG9uKCdNb25nb29zZScsICgpPT4gbW9uZ29vc2UpXG5cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBib290ICgpIHtcbiAgICAvLyBBbGwgYmluZGluZ3MgYXJlIHJlYWR5LCBmZWVsIGZyZWUgdG8gdXNlIHRoZW1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyByZWFkeSAoKSB7XG4gICAgLy8gQXBwIGlzIHJlYWR5XG4gIH1cblxuICBwdWJsaWMgYXN5bmMgc2h1dGRvd24gKCkge1xuICAgIC8vIENsZWFudXAsIHNpbmNlIGFwcCBpcyBnb2luZyBkb3duXG4gICAgYXdhaXQgdGhpcy5hcHAuY29udGFpbmVyLnVzZSgnTW9uZ29vc2UnKS5kaXNjb25uZWN0KClcbiAgfVxufVxuIl19