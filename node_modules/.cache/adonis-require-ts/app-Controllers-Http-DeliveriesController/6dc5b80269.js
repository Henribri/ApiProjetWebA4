"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Delivery_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Delivery"));
class DeliveriesController {
    async getOneDelivery({ request, response }) {
        try {
            return await Delivery_1.default.find({ _id: request.input("delivery_id") });
        }
        catch (err) {
            return response.status(502);
        }
    }
    async getAllDeliveries({ request, response }) {
        try {
            return await Delivery_1.default.find();
        }
        catch (err) {
            return response.status(502);
        }
    }
    async updateDelivery({ request, response }) {
        try {
            await Delivery_1.default.updateOne({ _id: request.input("delivery_id") }, request.body());
            return response.ok("Delivery update");
        }
        catch (err) {
            return response.status(502);
        }
    }
    async createDelivery({ request, response }) {
        try {
            const delivery = await Delivery_1.default.create(request.body());
            delivery.save();
            return response.ok("Delivery created");
        }
        catch (err) {
            return response.status(502);
        }
    }
}
exports.default = DeliveriesController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiRGVsaXZlcmllc0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJEZWxpdmVyaWVzQ29udHJvbGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUVBLHlGQUEyQztBQUUzQyxNQUFxQixvQkFBb0I7SUFFOUIsS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFDLE9BQU8sRUFBRSxRQUFRLEVBQXFCO1FBQy9ELElBQUc7WUFDQyxPQUFPLE1BQU0sa0JBQVEsQ0FBQyxJQUFJLENBQUMsRUFBQyxHQUFHLEVBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBQyxDQUFDLENBQUE7U0FDakU7UUFBQSxPQUFNLEdBQUcsRUFBQztZQUNQLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUM5QjtJQUNMLENBQUM7SUFHTSxLQUFLLENBQUMsZ0JBQWdCLENBQUMsRUFBQyxPQUFPLEVBQUUsUUFBUSxFQUFxQjtRQUNqRSxJQUFHO1lBQ0MsT0FBTyxNQUFNLGtCQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7U0FDL0I7UUFBQSxPQUFNLEdBQUcsRUFBQztZQUNQLE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUM5QjtJQUNMLENBQUM7SUFHTSxLQUFLLENBQUMsY0FBYyxDQUFDLEVBQUMsT0FBTyxFQUFFLFFBQVEsRUFBcUI7UUFDL0QsSUFBRztZQUNDLE1BQU0sa0JBQVEsQ0FBQyxTQUFTLENBQUMsRUFBQyxHQUFHLEVBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUMsRUFBQyxFQUFFLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO1lBQzVFLE9BQU8sUUFBUSxDQUFDLEVBQUUsQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO1NBQ3hDO1FBQUEsT0FBTSxHQUFHLEVBQUM7WUFDUCxPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7U0FDOUI7SUFDTCxDQUFDO0lBR00sS0FBSyxDQUFDLGNBQWMsQ0FBQyxFQUFDLE9BQU8sRUFBRSxRQUFRLEVBQXFCO1FBQy9ELElBQUc7WUFDQyxNQUFNLFFBQVEsR0FBRyxNQUFNLGtCQUFRLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFBO1lBQ3RELFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtZQUNmLE9BQU8sUUFBUSxDQUFDLEVBQUUsQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO1NBQ3pDO1FBQUEsT0FBTSxHQUFHLEVBQUM7WUFDUCxPQUFPLFFBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7U0FDOUI7SUFDTCxDQUFDO0NBR0o7QUF6Q0QsdUNBeUNDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXHJcblxyXG5pbXBvcnQgRGVsaXZlcnkgZnJvbSBcIkFwcC9Nb2RlbHMvRGVsaXZlcnlcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERlbGl2ZXJpZXNDb250cm9sbGVyIHtcclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0T25lRGVsaXZlcnkoe3JlcXVlc3QsIHJlc3BvbnNlfTpIdHRwQ29udGV4dENvbnRyYWN0KXtcclxuICAgICAgICB0cnl7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBEZWxpdmVyeS5maW5kKHtfaWQ6cmVxdWVzdC5pbnB1dChcImRlbGl2ZXJ5X2lkXCIpfSlcclxuICAgICAgICB9Y2F0Y2goZXJyKXtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnN0YXR1cyg1MDIpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgYXN5bmMgZ2V0QWxsRGVsaXZlcmllcyh7cmVxdWVzdCwgcmVzcG9uc2V9Okh0dHBDb250ZXh0Q29udHJhY3Qpe1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IERlbGl2ZXJ5LmZpbmQoKVxyXG4gICAgICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhc3luYyB1cGRhdGVEZWxpdmVyeSh7cmVxdWVzdCwgcmVzcG9uc2V9Okh0dHBDb250ZXh0Q29udHJhY3Qpe1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgYXdhaXQgRGVsaXZlcnkudXBkYXRlT25lKHtfaWQ6cmVxdWVzdC5pbnB1dChcImRlbGl2ZXJ5X2lkXCIpfSwgcmVxdWVzdC5ib2R5KCkpXHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5vayhcIkRlbGl2ZXJ5IHVwZGF0ZVwiKVxyXG4gICAgICAgIH1jYXRjaChlcnIpe1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDUwMilcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBhc3luYyBjcmVhdGVEZWxpdmVyeSh7cmVxdWVzdCwgcmVzcG9uc2V9Okh0dHBDb250ZXh0Q29udHJhY3Qpe1xyXG4gICAgICAgIHRyeXtcclxuICAgICAgICAgICAgY29uc3QgZGVsaXZlcnkgPSBhd2FpdCBEZWxpdmVyeS5jcmVhdGUocmVxdWVzdC5ib2R5KCkpXHJcbiAgICAgICAgICAgIGRlbGl2ZXJ5LnNhdmUoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2Uub2soXCJEZWxpdmVyeSBjcmVhdGVkXCIpXHJcbiAgICAgICAgfWNhdGNoKGVycil7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zdGF0dXMoNTAyKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG59XHJcbiJdfQ==